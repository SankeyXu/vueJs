<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrap.css"/>
		<link rel="stylesheet" type="text/css" href="css/table.css"/>
		<script src="js/vue.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/vue-resource.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/table.js" type="text/javascript" charset="utf-8"></script>
	</head>
	<body>
		<div class="container">
			<div class="col-sm-6 col-sm-offset-3">
				<h1>Vue demo</h1>
				<div id="app">
					<table class="table table-hover" v-cloak><!--添加v-cloak查看css是否绑定生效-->
						<thead>
							<tr>
								<th class="text-right" @click="sortBy('id')">序号</th>
								<th class="text-right" @click="sortBy('name')">书名</th>
								<th class="text-right" @click="sortBy('author')">作者</th>
								<th class="text-right" @click="sortBy('price')">价格</th>
								<th class="text-right">操作</th>
							</tr>
						</thead>
						<tbody>
							<tr v-for="book in books | orderBy sortparam">
								<td class="text-right">{{book.id}}</td>
								<td class="text-right">{{book.name}}</td>
								<td class="text-right">{{book.author}}</td>
								<td class="text-right">{{book.price}}</td>
								<template v-if="book.id%2==0">
									<td class="text-right">
										<button type="button" class="btn btn-success" @click="delBook(book)">删除</button>
									</td>
								</template>
								<template v-else>
									<td class="text-right">
										<button type="button" class="btn btn-danger" @click="delBook(book)">删除</button>
									</td>
								</template>
							</tr>
							<tr>
								<td class="text-right" colspan="5">
									<h4>总价：{{sum}}</h4>
								</td>
							</tr>
						</tbody>
					</table>
					<div id="add-book">
						<legend>添加书籍</legend>
						<div class="form-group">
							<label for="">书名</label>
							<input type="text" class="form-control" v-model="book.name" />
						</div>
						<div class="form-group">
							<label for="">作者</label>
							<input type="text" class="form-control" v-model="book.author" />
						</div>
						<div class="form-group">
							<label for="">价格</label>
							<input type="number" class="form-control" v-model="book.price" />
						</div>
						<button class="btn btn-primary btn-block" @click="addBook()">添加</button>
					</div>
				</div>
			</div>
		</div>
	</body>
</html>

